{{!--
This partial handles all Open Graph (OG) and Twitter Card meta tags for social media sharing.
It includes fallbacks for pages without descriptions and dynamic titles based on page content.
--}}

{{!-- Basic OG Tags --}}
<meta property="og:type" content="website">
<meta property="og:site_name" content="Redpanda Documentation">

{{!-- Canonical URL for OG --}}
{{#with page.canonicalUrl}}
<meta property="og:url" content="{{{this}}}">
{{/with}}

{{!-- OG Title with fallbacks --}}
{{#with page.title}}
<meta property="og:title" content="{{{this}}} | Redpanda {{{@root.page.component.title}}}">
{{else}}
<meta property="og:title" content="Redpanda Documentation - Real-time Data Streaming Platform">
{{/with}}

{{!-- OG Description with context-aware fallbacks --}}
{{#with page.description}}
<meta property="og:description" content="{{{detag this}}}">
{{else}}
{{!-- Try to extract description from page content if available --}}
{{#if page.contents}}
<meta property="og:description" content="{{{extract-description page.contents 160}}}">
{{else}}
{{!-- Fallback descriptions --}}
{{#if (eq page.component.name 'ROOT')}}
<meta property="og:description" content="Comprehensive documentation for Redpanda, the streaming data platform that is Kafka API compatible, 10x faster, and easier to use.">
{{else}}
<meta property="og:description" content="Learn about {{page.component.title}} in Redpanda - the streaming data platform that is Kafka API compatible, 10x faster, and easier to use.">
{{/if}}
{{/if}}
{{/with}}

{{!-- OG Image - Redpanda Logo --}}
{{#if site.url}}
<meta property="og:image" content="{{site.url}}{{uiRootPath}}/img/redpanda-docs-logo.svg">
{{else}}
<meta property="og:image" content="{{uiRootPath}}/img/redpanda-docs-logo.svg">
{{/if}}
<meta property="og:image:alt" content="Redpanda Documentation - Kafka API compatible, 10x faster, easier to use">
<meta property="og:image:type" content="image/svg+xml">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">

{{!-- Twitter Card Tags --}}
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@redpandadata">

{{!-- Twitter Title (same as OG) --}}
{{#with page.title}}
<meta name="twitter:title" content="{{{this}}} | Redpanda {{{@root.page.component.title}}}">
{{else}}
<meta name="twitter:title" content="Redpanda Documentation - Real-time Data Streaming Platform">
{{/with}}

{{!-- Twitter Description (same as OG) --}}
{{#with page.description}}
<meta name="twitter:description" content="{{{detag this}}}">
{{else}}
{{!-- Try to extract description from page content if available --}}
{{#if page.contents}}
<meta name="twitter:description" content="{{{extract-description page.contents 160}}}">
{{else}}
{{!-- Fallback descriptions --}}
{{#if (eq page.component.name 'ROOT')}}
<meta name="twitter:description" content="Comprehensive documentation for Redpanda, the streaming data platform that is Kafka API compatible, 10x faster, and easier to use.">
{{else}}
<meta name="twitter:description" content="Learn about {{page.component.title}} in Redpanda - the streaming data platform that is Kafka API compatible, 10x faster, and easier to use.">
{{/if}}
{{/if}}
{{/with}}

{{!-- Twitter Image (same as OG) --}}
{{#if site.url}}
<meta name="twitter:image" content="{{site.url}}{{uiRootPath}}/img/redpanda-docs-logo.svg">
{{else}}
<meta name="twitter:image" content="{{uiRootPath}}/img/redpanda-docs-logo.svg">
{{/if}}
<meta name="twitter:image:alt" content="Redpanda Documentation - Kafka API compatible, 10x faster, easier to use">

{{!-- Additional Social Media Platform Support --}}
{{!-- Schema.org markup for additional SEO benefits --}}
<meta itemprop="name" content="{{#with page.title}}{{{this}}} | Redpanda {{{@root.page.component.title}}}{{else}}Redpanda Documentation{{/with}}">
{{#with page.description}}
<meta itemprop="description" content="{{{detag this}}}">
{{else}}
<meta itemprop="description" content="Comprehensive documentation for Redpanda, the streaming data platform that is Kafka API compatible, 10x faster, and easier to use.">
{{/with}}
{{#if site.url}}
<meta itemprop="image" content="{{site.url}}{{uiRootPath}}/img/redpanda-docs-logo.svg">
{{else}}
<meta itemprop="image" content="{{uiRootPath}}/img/redpanda-docs-logo.svg">
{{/if}}
