<form data-netlify="true" id="notfound" name="notfoundForm" method="POST" netlify-honeypot="bot-field">
  <input class="hidden" type="hide" name="form-name" value="notfoundForm"
  />
  <p class="hidden">
    <label>
      Beep-Boop. Bot-field <input name="bot-field" />
    </label>
  </p>
  <input id="url" class="hidden" name="url" />
  <input id="date" class="hidden" name="date" />
  <button type="submit" id="submit-button" class="hidden"></button>
</form>

<script>
const form = document.getElementById('notfound');
var url = document.getElementById('url');
var date = document.getElementById('date');
url.value = window.location.href;
date.value = new Date();
const handleSubmit = (e) => {
e.preventDefault();
const formData = new FormData(e.target)

fetch("/", {
  method: "POST",
  headers: { "Content-Type": "application/x-www-form-urlencoded" },
  body: new URLSearchParams(formData).toString(),
}).then(() => {
    console.log('Form submission success')
  })
  .catch(error => {
    console.error('Form submission error:', error)
  })
}
form.addEventListener('submit', handleSubmit)
document.getElementById('submit-button').click();
</script>
