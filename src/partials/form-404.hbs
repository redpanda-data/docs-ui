<form
  data-netlify="true"
  id="notfound"
  name="notfoundForm"
  method="POST"
  netlify-honeypot="bot-field"
>
  <input
    class="hidden"
    type="hide"
    name="form-name"
    value="notfoundForm"
  />
  <p class="hidden">
    <label>
      Beep-Boop. Bot-field <input name="bot-field" />
    </label>
  </p>
  <input class="hidden" name="url" />
  <input class="hidden" name="date" />
  <input class="hidden" type="submit" />
  <button type="submit" id="submit-button" class="hidden"></button>
</form>

<script>
const form = document.getElementById('notfound');
form.addEventListener("submit", function (event) {
  event.preventDefault();
  var formData = new FormData(event.target)

  formData.set('date', new Date())
  formData.set('url', window.location.href)
  formData.set('form-name', 'notfoundForm');

  fetch("/", {
    method: "POST",
    headers: { "Content-Type": "application/x-www-form-urlencoded" },
    body: new URLSearchParams(formData).toString(),
  }).then(() => {
      console.log('Form submission success')
  })
    .catch(error => {
      console.error('Form submission error:', error)
  })
});
document.getElementById('submit-button').click();
</script>
